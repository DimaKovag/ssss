### 1. –ó–∞–ø—É—Å–∫ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó ‚Ññ3 Docker

–°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é:
```bash
cd C:\Users\–î–º–∏—Ç—Ä–æ\Desktop\Lab3\docker_lab03
```
–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ —ñ –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ:
```bash
docker compose up -d
```
–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –ø—Ä–∞—Ü—é—é—Ç—å:
```bash
docker compose ps
```
frontend –º–∞—î –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–π —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:
```bash
http://localhost:1125
```
–ø–æ–∫–∞–∑—É—î —Å—Ç–æ—Ä—ñ–Ω–∫—É –∑ Nginx
```bash
backend: http://localhost:8080
```
 API-–≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ Flask (JSON)


–Ø–∫—â–æ –í–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑ –Ω—É–ª—è:
```bash
docker compose down
```
```bash
docker compose up --build -d
```
–Ü —Ç–æ–¥—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ.

–©–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å–∏:
```bash
docker compose down
```

### 1. –ó–∞–ø—É—Å–∫ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó ‚Ññ7 RabbitMQ —á–µ—Ä–µ–∑ Docker
–°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é:
```bash
cd C:\Users\–î–º–∏—Ç—Ä–æ\Desktop\lab7_event_architecture
```
–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ–∫–µ—Ä:
```bash
docker compose up
```

* –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å RabbitMQ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: [http://localhost:15672](http://localhost:15672)
* –î–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É:

  * **–õ–æ–≥—ñ–Ω:** `user`
  * **–ü–∞—Ä–æ–ª—å:** `password`

---

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
python -m venv venv
```

```bash
source venv/Scripts/activate
```

---

### 3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ—î–∫—Ç—É

–ó–∞–ø—É—Å–∫–∞–π –¥–≤–∞ –æ–∫—Ä–µ–º—ñ —Ç–µ—Ä–º—ñ–Ω–∞–ª–∏ ‚Äî –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑ –±–æ—Ç—ñ–≤.

---

### –¢–µ—Ä–º—ñ–Ω–∞–ª 1 ‚Äî –∑–∞–ø—É—Å–∫ **message\_sender.py** (–±–æ—Ç: `EventPublisherBot`)

```bash
source venv/Scripts/activate
```
```bash
python message_sender.py
```

---

### –¢–µ—Ä–º—ñ–Ω–∞–ª 2 ‚Äî –∑–∞–ø—É—Å–∫ **message\_receiver.py** (–±–æ—Ç: `EventListenerBot`)

```bash
source venv/Scripts/activate
```
```bash
python message_receiver.py
```

---

## üß™ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

1. –í—ñ–¥–∫—Ä–∏–π Telegram —Ç–∞ –∑–Ω–∞–π–¥–∏ –±–æ—Ç–∞ **EventPublisherBot**.
2. –ù–∞–¥—ñ—à–ª–∏ –π–æ–º—É –±—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
3. –£ —á–∞—Ç—ñ –∑ **EventListenerBot** –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É –≤–∏–≥–ª—è–¥—ñ:

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á <–Ü–º‚Äô—è> –Ω–∞–¥—ñ—Å–ª–∞–≤: <—Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è>
```

> –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ `chat_id` –¥–ª—è –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —É `message_receiver.py`, —Å–ø–æ—á–∞—Ç–∫—É –∑–∞–ø—É—Å—Ç–∏ `fetch_chat_id.py` —ñ –Ω–∞–¥—ñ—à–ª–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç—É.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
lab7-event-architecture/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ message_sender.py      # –±–æ—Ç-–≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫
‚îú‚îÄ‚îÄ message_receiver.py    # –±–æ—Ç-–æ—Ç—Ä–∏–º—É–≤–∞—á
‚îú‚îÄ‚îÄ fetch_chat_id.py       # –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –±–æ—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è chat_id
‚îî‚îÄ‚îÄ README.md
```

---

## üßπ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏

### –ó—É–ø–∏–Ω–∫–∞ RabbitMQ

```bash
docker compose down
```


   docker compose down
   ```

   > –¶–µ –±–µ–∑–ø–µ—á–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–æ–±–æ—Ç—É –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (Elasticsearch, Fluentd, Kibana) —ñ –≤–∏–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É –¥–∞–Ω—ñ —É volume-–∞—Ö.

---

````markdown
# üì° –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —ñ–∑ Prometheus + Grafana + Telegram Bot

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **Prometheus**, **Grafana** —Ç–∞ **Telegram-–±–æ—Ç–∞**, —è–∫–∏–π –≤–∏–¥–∞—î –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ `/metrics`.

---

## üîß 1. –ó–∞–ø—É—Å–∫ Prometheus + Grafana

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –∑ `docker-compose.yml`:

   ```bash
   cd ./prometheus-lab/PrometheusLab
````

2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏:

   ```bash
   docker compose up
   

3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Å–µ—Ä–≤—ñ—Å–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ:

   * üîó Prometheus: [http://127.0.0.1:9090](http://127.0.0.1:9090)
   * üìä Grafana: [http://127.0.0.1:3000](http://127.0.0.1:3000)

---

## ü§ñ 2. –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞ –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –±–æ—Ç–∞:

   
Bash

   cd ./telegram_bot
   

2. –Ø–∫—â–æ —â–µ –Ω–µ–º–∞—î –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞, —Å—Ç–≤–æ—Ä—ñ—Ç—å —ñ –∞–∫—Ç–∏–≤—É–π—Ç–µ –π–æ–≥–æ:

   
Bash

   python -m venv venv
   source venv/Scripts/activate  # –∞–±–æ source venv/bin/activate –Ω–∞ Linux/macOS
   pip install -r requirements.txt
   

3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:

   
Bash

   python bot.py
   

4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –º–µ—Ç—Ä–∏–∫–∏:

   * üìà –í—ñ–¥–∫—Ä–∏–π —É –±—Ä–∞—É–∑–µ—Ä—ñ: [http://127.0.0.1:9091/metrics](http://127.0.0.1:9091/metrics)
   * –í–∏ –ø–æ–±–∞—á–∏—Ç–µ —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç:

     

     # HELP received_messages_total Total number of received Telegram messages
     # TYPE received_messages_total counter
     received_messages_total 5.0
     

---

## üìä 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Grafana

1. –í—ñ–¥–∫—Ä–∏–π Grafana: [http://127.0.0.1:3000](http://127.0.0.1:3000)

   * –õ–æ–≥—ñ–Ω: admin
   * –ü–∞—Ä–æ–ª—å: admin

2. –î–æ–¥–∞–π –¥–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö (Data Source):

   * –ù–∞—Ç–∏—Å–Ω–∏: ‚ò∞ ‚Üí Connections ‚Üí Data Sources

   * –û–±–µ—Ä–∏: Add data source

   * –¢–∏–ø: Prometheus

   * URL:

     

     http://prometheus:9090
     

   * –ù–∞—Ç–∏—Å–Ω–∏: Save & test

---

## üìà 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Dashboard —É Grafana

1. –£ Grafana –Ω–∞—Ç–∏—Å–Ω–∏: Dashboards ‚Üí New ‚Üí Explore

2. –£ –ø–æ–ª—ñ Metrics –≤–≤–µ–¥–∏:

   

   received_messages_total
   

3. –ù–∞—Ç–∏—Å–Ω–∏ Run Query, –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ:

   * Add to dashboard ‚Üí New panel
   * –î–∞–π –Ω–∞–∑–≤—É –ø–∞–Ω–µ–ª—ñ
   * –ó–±–µ—Ä–µ–∂–∏ Dashboard

---

## üõë 5. –ó—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

### –ó—É–ø–∏–Ω–∏—Ç–∏ Prometheus + Grafana

Bash

cd ./prometheus-lab/PrometheusLab
docker compose down

### –ó—É–ø–∏–Ω–∏—Ç–∏ Telegram-–±–æ—Ç–∞

* –ù–∞—Ç–∏—Å–Ω–∏ Ctrl + C —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
* –î–µ–∞–∫—Ç–∏–≤—É–π —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:

  
Bash

  deactivate
  

---

## üìé –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

* üîç Prometheus: [http://127.0.0.1:9090](http://127.0.0.1:9090)
* üìä Grafana: [http://127.0.0.1:3000](http://127.0.0.1:3000)
* üìà –ú–µ—Ç—Ä–∏–∫–∏ –±–æ—Ç–∞: [http://127.0.0.1:9091/metrics](http://127.0.0.1:9091/metrics)
